schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 6e5c74ed4a50c015d955c1e8604ea10f
      size: 806
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 30f041ef01a418f2efcf9eb850db1d64
      size: 904
    outs:
    - path: artifacts/data_ingestion/cats
      hash: md5
      md5: 279919458af856cdae1c1f818acd2a02.dir
      size: 418873671
      nfiles: 12768
    - path: artifacts/data_ingestion/dogs
      hash: md5
      md5: 6382311af4dfa4242edee0f1c9b2e60e.dir
      size: 496929007
      nfiles: 12768
  data_preparation:
    cmd: python src/cnnClassifier/pipeline/stage_02_data_preparation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 6e5c74ed4a50c015d955c1e8604ea10f
      size: 806
    - path: src/cnnClassifier/pipeline/stage_02_data_preparation.py
      hash: md5
      md5: 8d792ad5cb983d64bdebed5d7c36b584
      size: 1728
    outs:
    - path: artifacts/data_ingestion/cats_resized
      hash: md5
      md5: 4269e6344155573467a2ad0ef623f4b1.dir
      size: 110984049
      nfiles: 12740
    - path: artifacts/data_ingestion/dogs_resized
      hash: md5
      md5: 627e224b822e322cc2488d64080fbf5e.dir
      size: 128160058
      nfiles: 12733
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_03_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 6e5c74ed4a50c015d955c1e8604ea10f
      size: 806
    - path: src/cnnClassifier/pipeline/stage_03_prepare_base_model.py
      hash: md5
      md5: 75277c4c53ce2856b15aa952130e5497
      size: 956
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: e6aedccb8aeca54c5f8093a9f42946fb.dir
      size: 118059248
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_04_training.py
    deps:
    - path: artifacts/data_ingestion/cats_resized
      hash: md5
      md5: 4269e6344155573467a2ad0ef623f4b1.dir
      size: 110984049
      nfiles: 12740
    - path: artifacts/data_ingestion/dogs_resized
      hash: md5
      md5: 627e224b822e322cc2488d64080fbf5e.dir
      size: 128160058
      nfiles: 12733
    - path: artifacts/prepare_base_model
      hash: md5
      md5: e6aedccb8aeca54c5f8093a9f42946fb.dir
      size: 118059248
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 6e5c74ed4a50c015d955c1e8604ea10f
      size: 806
    - path: src/cnnClassifier/components/prepare_callbacks.py
      hash: md5
      md5: 30026219971a4b648a8a51b88c3eac1a
      size: 993
    - path: src/cnnClassifier/pipeline/stage_04_training.py
      hash: md5
      md5: a41c81a962a46858a9c2a1401456edf4
      size: 1203
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 64
        EPOCHS: 8
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/data_ingestion/training_data
      hash: md5
      md5: 19f4dc032c20a8071f996b326fe50110.dir
      size: 239144107
      nfiles: 25473
    - path: artifacts/training/model.h5
      hash: md5
      md5: 58d2b8bf17f52f73557a4b14d1508ee1
      size: 59340720
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_05_evaluation.py
    deps:
    - path: artifacts/data_ingestion/training_data
      hash: md5
      md5: 19f4dc032c20a8071f996b326fe50110.dir
      size: 239144107
      nfiles: 25473
    - path: artifacts/training/model.h5
      hash: md5
      md5: 58d2b8bf17f52f73557a4b14d1508ee1
      size: 59340720
    - path: config/config.yaml
      hash: md5
      md5: 6e5c74ed4a50c015d955c1e8604ea10f
      size: 806
    - path: src/cnnClassifier/pipeline/stage_05_evaluation.py
      hash: md5
      md5: bb445fc2b2ee26520f520b210cf70148
      size: 818
    params:
      params.yaml:
        BATCH_SIZE: 64
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: c248256ebe7280b82a44bf17ed074ed3
      size: 73
